services:
  duckdns:
    image: linuxserver/duckdns
    container_name: duckdns
    environment:
      - SUBDOMAINS=${DUCKDNS_SUBDOMAIN}
      - TOKEN=${DUCKDNS_TOKEN}
      - LOG_FILE=false
    restart: unless-stopped

  jacktrip:
    image: jacktrip/jacktrip
    container_name: jacktrip-server
    command: >
      jacktrip -S --hubpatch 4
      --udpbaseport ${JACKTRIP_UDP_PORT:-61000}
      --numchannels 2
      --bitres 16
      --srate 48000
      --jackopts "-d dummy -p 128 -r 48000"
    network_mode: host
    restart: unless-stopped
    privileged: true
    shm_size: 128m